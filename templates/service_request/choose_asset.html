{% extends '_base.html' %}

{% block content %}
  <div class="container mt-4">
    <h2>Choose a Service Item in {{ category.name }}</h2>

    <!-- Search Bar Form -->
    <form method="get" class="mb-3">
      <input 
        type="text" 
        name="search_query" 
        class="form-control" 
        placeholder="Search for an item..." 
        value="{{ search_query|default:'' }}">
      <button type="submit" class="btn btn-primary mt-2">Search</button>
    </form>

    <!-- Asset List -->
    <ul class="list-group" id="assetList">
      {% for asset in assets %}
        <li class="list-group-item d-flex justify-content-between align-items-center asset-item">
          <a href="{% url 'place_request' asset.id %}" class="asset-link text-decoration-none text-dark fw-bold fs-5">
            {% if asset.image %}
              <img src="{{ asset.image.url }}" alt="{{ asset.name }}" class="img-thumbnail me-3" style="width: 150px; height: 150px;">
            {% endif %}
            {{ asset.name }}
          </a>
          <span class="badge bg-secondary">{{ asset.category.name }}</span>
        </li>
      {% empty %}
        <li class="list-group-item text-center">No item match your search.</li>
      {% endfor %}
    </ul>
  </div>

  <style>
    .asset-link:hover {
      color: blue !important;
      transform: scale(1.05);
      transition: transform 0.2s ease, color 0.2s ease;
    }
  </style>
{% endblock %}
